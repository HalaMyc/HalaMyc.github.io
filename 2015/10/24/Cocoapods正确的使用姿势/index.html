<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Cocoapods正确的使用姿势 · HalaMyc</title><meta name="description" content="Cocoapods正确的使用姿势 - MouYacheng"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/author.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div id="mask" style="display: none;"><img id="mask-image" src="#" style=" "></div><div class="wrap"><header><a href="/" class="logo-link"><img src="/author.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/Resume" target="_self" class="nav-list-link">RESUME</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Cocoapods正确的使用姿势</h1><div class="post-time">Oct 24, 2015</div><div class="post-content"><p>有过一段时间iOS和OS X开发经验的人应该都用过Cocoapods，Cocoapods的好处就不用多说了，非常方便的集成项目所需的依赖，之前在使用Cocoapods的时候一直觉得挺好挺方便的，除了觉得每次install和update几乎一直卡着不动被逼无奈选择跳过Cocoapods的spec库，最近在新建一个项目的时候才发现了这样做事不对的，于是写一篇文章劝诫各位不要随便跳过。<br><a id="more"></a></p>
<h4 id="发现问题的经过">发现问题的经过</h4><p>我在Xcode7新建了一个项目，选择Swift开发，第三方依赖选择了ALamofire代替之前一直使用的AFNetworking，新版的Xcode必然使用的事Swift2.0，于是在项目运行的时候就出问题了，问题就出自ALamofire，报错原因是ALamofire使用的还是Swift1.2。但是我在微博上几个月以前就看到AL在Swift2.0出现之后没几天就更新了新版支持2.0，为什么我的还会报错。检查下AL的版本发现，最新的是3.0，而我项目中的是1.2，所以导致了错误。</p>
<p>下面是我的Podfile<br><img src="http://ww4.sinaimg.cn/large/005DFtxSjw1exc2gdof8kj30jk0620uc.jpg" alt="image"><br>一开始以为是我的Podfile有问题，是不是不指定版本默认就使用老的版本呢，于是我指定了版本为3.0,就像下面这样<br><img src="http://ww2.sinaimg.cn/large/005DFtxSjw1exc2fchsurj30kw066abu.jpg" alt="image"><br>但是！！！update的时候报错了！！！找不到3.0！！！<br>google了几十分钟依然无果，stackoverflow上类似问题挺多的，不过都无法解决问题，最后我突然想到是不是由于跳过了更新spec库，旧的库里面没有更新的那么快呢，于是我选择不跳过了，但是不跳过更新又卡着不动了，于是去找解决办法，最后发现可能换个国内镜像就好了。。。</p>
<h4 id="解决办法">解决办法</h4><p>不要再使用<code>pod install --verbose --no-repo-update</code>和<code>pod update --verbose --no-repo-update</code>跳过更新了！！！百度出来的解决办法基本都是这个，但是真的不要再用了！！！</p>
<p>正常使用<code>pod install</code>和<code>pod update</code>就好，不过需要修改一下镜像，关于镜像这里附上google出来的博文<a href="http://lloydsheng.com/post/setup-cocoapods-mirror" target="_blank" rel="external">制作Cocoapods国内镜像</a></p>
<p>自己做一个国内镜像或者不愿动手的话使用上述链接中博主的镜像就行</p>
<p>改完之后并且愉快的update了新版的AL后才明白，为什么google出来的解决办法都无法解决，因为人家歪果仁不会碰到我这样的问题啊，人家正常update就很快了为什么要跳过更新呢。。。</p>
<p>最后再说一句，<strong>Fuck GFW！！</strong></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/14/两次电话面试后的总结/" class="prev">PREV</a><a href="/2015/09/22/活学活用，搜索小demo/" class="next">NEXT</a></div><div data-thread-key="2015/10/24/Cocoapods正确的使用姿势/" data-title="Cocoapods正确的使用姿势" data-url="http://www.halamyc.me/2015/10/24/Cocoapods正确的使用姿势/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"HalaMyc"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2015 - 2016 <a href="http://www.halamyc.me">MouYacheng</a>, unless otherwise noted.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>